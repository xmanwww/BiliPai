# 更新日志

## v3.0.5 (2024-12-18)

### 🎨 UI 优化

- 首页视频卡片增加优雅的波浪式进场动画（缩放+滑入+淡入）
- 分类页面（游戏/知识等）与首页展示模式同步
- 移除视频详情页重复的评论按钮
- 相关推荐视频增加播放量和弹幕数显示

### 🔧 Bug 修复

- 修复首页下拉刷新有时失效的问题（LaunchedEffect key 修正）
- 修复分类视频播放量为 0 的问题（更换 API 端点）

### 📝 技术改进

- 新增 `animateEnter` modifier 支持缩放动画
- 分类页 API 从 `newlist` 更换为 `dynamic/region`

---

## v2.5.0 (2024-12-12)

## 🚀 性能优化

### 后台播放器管理

- 视频播放器进入后台时自动暂停，减少电量消耗
- 直播播放器同样支持后台暂停/前台恢复

### 历史记录同步

- 新增播放心跳上报 API，观看视频自动记录到历史

## 🎨 UI/UX 增强

### 视频卡片信息展示

- 智能统计高亮：自动选择点赞/投币/收藏中最高的数据
- 红色高亮显示统计数据，与官方 App 风格一致
- 统计显示在左侧（如：1.2万点赞）

### 直播卡片入场动画

- 添加渐入+上滑的交错动画效果
- 增强视觉流畅感

### 分类导航优化

- 未实现的分类（追番/影视）显示友好提示
- 手势返回自动切换回推荐分类，避免退出应用

### 未登录用户体验

- 直播分类默认显示「热门」而非「关注」
- 未登录用户可正常浏览热门直播

## 🔧 技术改进

### API 增强

- 新增 BaseResponse 基础响应类
- 新增 reportHeartbeat 心跳上报接口

### 代码优化

- 生命周期感知的播放器状态管理
- 移除过时的调试脚本

---
本次更新专注于接近官方 App 体验与性能优化

---

## v2.4.1 (2024-12-09)

### 📄 开源合规

- 新增 "开源许可证" 页面 (Settings > 高级选项)
- 添加项目根目录 `LICENSE` (GPL-3.0) 文件
- 修复 GitHub 链接访问问题

---

## v2.4.0 (2024-12-09)

### 🎨 iOS 风格 UI 重构

- 新增 Shimmer 骨架屏加载动画
- 新增 GlassCard 毛玻璃效果组件
- 新增 iOS 风格调色板 (粉/黄/橙/紫)
- 推荐视频卡片增加按压弹性缩放动效 (0.97x)

### 🎉 庆祝动画

- 点赞成功：爱心粒子爆裂 + 弹性放大动画
- 三连成功：烟花粒子 + 🎉 庆祝文字

### 🌙 深色模式修复

- 修复收藏页面深色模式背景为白色的问题
- 修复动态页面图片占位符在深色模式下显示异常

### 📁 新增文件

- `SkeletonComponents.kt` - 骨架屏组件
- `GlassComponents.kt` - 毛玻璃卡片
- `CelebrationAnimations.kt` - 庆祝动画

---

## v2.3.0 (2024-12-08)

### 🎬 视频详情页增强

- 新增点赞功能
- 新增投币功能 (1/2 币选择)
- 新增三连功能 (点赞+投币+收藏)
- 投币对话框支持"同时点赞"选项

### 🔧 Bug 修复

- 修复点赞/收藏后计数不更新的问题
- 优化视频播放 URL 获取的降级策略

---

## v2.2.0 (2024-12-06)

### 📦 APK 尺寸优化

- 启用图标压缩，减小 APK 体积

---

## v2.1.0 (2024-12-05)

### 🔐 登录优化

- 优化 Web 登录 UI 显示
- 隐藏不必要的登录页面元素
