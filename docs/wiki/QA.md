# QA 测试手册

最后更新：2026-02-25（适配 v6.3.0）

## 目标

提供可重复执行的回归与基础检查清单，降低“发版后文档与真实行为不一致”的风险。

## 测试环境建议

- Android 版本：至少覆盖 Android 10、12、14
- 设备形态：手机 + 平板（或折叠屏）
- 网络：Wi-Fi / 移动网络 / 弱网
- 账号：未登录 / 已登录非大会员 / 已登录大会员

## 发布前基础检查（必测）

### 1) 听视频播放列表（收藏夹/稍后再看）

步骤：
1. 进入收藏夹、稍后再看页面，点击“听视频”
2. 观察按钮是否可立即点击（不应长时间灰置）
3. 进入听视频后切换播放模式：顺序播放、随机播放、单曲循环
4. 从首页视频进入听视频，核对封面、标题、UP 主与实际播放内容一致

期望：
- 按钮可用时机正确
- 三种模式可切换且行为符合预期
- 封面与播放内容一致，无错绑

### 2) 播放清晰度与登录鉴权

步骤：
1. 使用“已登录非大会员”账号播放任意公开视频
2. 首次进入直接检查可达清晰度（不做手动重载）
3. 切换分辨率后再返回默认清晰度

期望：
- 首次进入不应被错误锁死在 720P
- 不需要“重载一次”才能拿到正常可用的高分辨率档

### 3) 动态快速切换与异常恢复

步骤：
1. 在动态页快速切换多个 UP 主头像/分栏
2. 连续触发刷新与切换操作
3. 若出现 `HTTP 412`，点击重试并继续切换

期望：
- 页面不出现长期空白“无数据”
- 异常可恢复，不会卡死在错误态

### 4) 底栏视觉一致性

步骤：
1. 进入首页观察底栏浮层
2. 滚动页面与切换 tab，持续观察底栏高光

期望：
- 无明显“玻璃反光”高光弧线
- 边框为轻量描边，不刺眼、不闪烁

### 5) 横屏控制栏（6.2.1 核心回归）

步骤：
1. 视频横屏，打开右侧控制区
2. 验证字幕面板、更多面板可正常打开
3. 在更多面板验证：下集、播放顺序、画面比例、回竖屏

期望：
- 功能入口完整
- 面板交互流畅，无错位、无空白

## 回归清单（建议）

- 首页返回动画：快速返回与普通返回都应平滑
- 历史记录：批量删除与单条删除正常
- 收藏夹与稍后再看：列表滚动、点击、播放跳转稳定
- 插件中心：开启/关闭插件后不影响核心播放链路

## 缺陷记录模板

- 标题：
- 版本：
- 设备与系统：
- 账号状态：
- 网络环境：
- 复现步骤：
- 实际结果：
- 期望结果：
- 附件（截图/日志）：

## 自动化命令（最小集）

```bash
./gradlew :app:testDebugUnitTest
```
